// Generated by CoffeeScript 1.10.0
(function() {
  var getOverview, getSensor, goToPlant, initSetTab;

  getOverview = function() {
    var request;
    request = $.ajax({
      url: '/get/plant/overview',
      method: 'POST',
      data: {}
    });
    request.done(function(msg) {
      $('section.mainContent').html(msg);
      window.history.pushState({}, '', '/plant/marta/overview');
    });
    request.fail(function(jqXHR, textStatus) {
      $('section.mainContent').html('Request failed:' + textStatus);
    });
  };

  window.getOverview = getOverview;

  getSensor = function(sensor) {
    var request;
    request = $.ajax({
      url: '/get/plant/sensor',
      method: 'POST',
      data: {
        sensor: sensor
      }
    });
    request.done(function(msg) {
      $('section.mainContent').html(msg);
    });
    request.fail(function(jqXHR, textStatus) {
      $('section.mainContent').html('Request failed:' + textStatus);
    });
    window.history.pushState({}, '', '/plant/marta/' + sensor);
  };

  window.getSensor = getSensor;

  goToPlant = function(plant) {
    var request;
    request = $.ajax({
      url: '/get/plant/overview',
      method: 'POST',
      data: {
        plant: plant
      }
    });
    request.done(function(msg) {
      $('section.mainContent').html(msg);
      window.history.pushState({}, '', '/plant/' + plant + '/overview');
    });
    request.fail(function(jqXHR, textStatus) {
      $('section.mainContent').html('Request failed:' + textStatus);
    });
  };

  initSetTab = function(tabName) {
    $('div.menu.mainMenu').children('.' + tabName).addClass('active');
  };

  window.initSetTab = initSetTab;

  $(function() {
    $('div.menu.mainMenu a').click(function(e) {
      $(this).parent().children('.active').removeClass('active');
      $(this).addClass('active');
    });
  });

}).call(this);
